!function(){"use strict";var a=new Date,n=a.getMonth(),e=function(a){return a[0].toUpperCase()+a.slice(1)},t=function(a){return function(n,e){var t,s;t=[],s=new RegExp(n,"i"),$.each(a,function(a,n){s.test(n)&&Object.keys(t).length<10&&t.push({value:n})}),e(t)}},s=function(a,e){$("#resultados").removeClass("invis");for(var t={},s=0;s<e.alimentos.length;s++)e.alimentos[s].nome===a&&(t=e.alimentos[s]);for(delete t.nome,s=0;s<Object.keys(t).length;s++)d3.select(".resultado:nth-child("+(s+1)+")").attr("class",function(){return"Fraco"===t[Object.keys(t)[s]]?"resultado fraco"+(n===s?" atual":""):"Regular"===t[Object.keys(t)[s]]?"resultado regular"+(n===s?" atual":""):"resultado forte"+(n===s?" atual":"")}).html(function(){return $(this).hasClass("fraco")?'<span class="glyphicon glyphicon-heart-empty" aria-hidden="true"></span><span class="glyphicon glyphicon-heart-empty" aria-hidden="true"></span><span class="glyphicon glyphicon-heart" aria-hidden="true"></span>':$(this).hasClass("regular")?'<span class="glyphicon glyphicon-heart-empty" aria-hidden="true"></span><span class="glyphicon glyphicon-heart" aria-hidden="true"></span><span class="glyphicon glyphicon-heart" aria-hidden="true"></span>':'<span class="glyphicon glyphicon-heart" aria-hidden="true"></span><span class="glyphicon glyphicon-heart" aria-hidden="true"></span><span class="glyphicon glyphicon-heart" aria-hidden="true"></span>'})},i=[],h=$("#busca"),r=$(".nav__search"),o=$(".nav");d3.json("https://s3-us-west-2.amazonaws.com/s.cdpn.io/20221/data.json",function(a,n){n.alimentos.forEach(function(a){i.push(e(a.nome))}),h.typeahead({hint:!0,highlight:!0,minLength:2},{name:"nomes",displayKey:"value",source:t(i)}),h.on("keydown",function(a){var e=-o.height()/2;if(e+=r.height()/2,e+=16,e+="px",r.velocity({translateY:e},500),13===a.keyCode){var t=h.typeahead("val");s(t,n)}})})}();